### 2. 싱글톤 패턴 질문 모음 [참고](https://javarevisited.blogspot.com/2011/03/10-interview-questions-on-singleton.html#axzz7NnOYXbPY)

#### 1. 싱글톤 패턴이란?

- 싱글톤 패턴이란 전체 어플리케이션에서 딱 한번만 생성되는 객체를 이며 `getInstance()` 같은 static 메소드를 통해 싱글톤 객체에 접근 한다.
- 자바에서 대표적인 싱글톤 객체는 `Runtime` 객체인데 `getRuntime()` 메소드를 통해 해당 객체에 접근할 수 있다.



#### 2. 어떤 경우에 싱글톤 객체로 만들어야 하는가?

- 전체 어플리케이션에서 딱 하나의 객체만을 가져야하는 클래스를 싱글톤으로 만든다.



#### 3. 메소드 전체를 동기화하면 발생하는 문제는?

- 메소드 전체를 동기화하면 여러 스레드들이 해당 메소드를 호출할 때 마다 lock을 얻기 위해서 경쟁하기 때문에 성능이 저하될 수 밖에 없다.
- 싱글톤 패턴에서 동기화가 필요한 부분은 싱글톤 객체를 초기화할 때 뿐이므로 전체 메소드가 아닌 객체를 생성하는 부분만 동기화하는 것이 좋다.



#### 4. Lazy 로딩과 Eager 로딩의 차이점은?

- 클래스가 JVM으로 로딩되는 시점에 객체를 생성하는 것을 `Eager` 로딩이라고 한다. 이 방식으 단점은 해당 객체가 단 한번도 사용되지 않더라도 객체가 생성된다는 단점이 있다.
- `Lazy` 로딩은 객체가 참조되는 시점에 생성하는 방식이다. `getInstance()`와 같은 메소드를 호출했을 때 객체를 생성하므로 사용되지 않음에도 불필요하게 생성되는 단점을 극복할 수 있다.



#### 5. 리플렉션으로 새로운 객체를 생성하는 것을 막을 수 있을까?

- 생성자를 private으로 선언했더라도 리플렉션을 이용해서 객체를 생성하는 것을 막을 수는 없다.
- 하지만, 이미 객체가 생성된 상태라면 private 생성자에서 예외를 발생시켜 객체가 여러 번 생성됐음을 알리는게 좋다.



#### 6. 직렬화, 역직렬화를 이용했을 때 새로운 객체가 생성되는 것을 막을 수 있나?

- 역직렬화를 할 때 `readObject()` 메소드를 사용하는데 이때 내부적으로 `readResolve()` 메소드를 호출한다. 즉, 싱글톤 패턴의 대상이 되는 클래스에서 `readResolve()` 메소드가 `getInstance()` 메소드의 결과 값을 반환하도록 재정의(?)해서 중복 생성을 막을 수 있다.